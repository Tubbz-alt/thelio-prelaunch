!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).basicLightbox=t()}(function(){return function t(e,n,o){function r(a,u){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return r(e[a][1][t]||t)},l,l.exports,t,e,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(t,e){var n=t.children;return 1===n.length&&n[0].tagName===e},r=n.visible=function(t){return null!=(t=t||document.querySelector(".basicLightbox"))&&!0===t.ownerDocument.body.contains(t)};n.create=function(t,e){e=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return!1!==(t=Object.assign({},t)).closable&&(t.closable=!0),"function"==typeof t.className&&(t.className=t.className()),"string"!=typeof t.className&&(t.className=null),"function"!=typeof t.beforeShow&&(t.beforeShow=function(){}),"function"!=typeof t.afterShow&&(t.afterShow=function(){}),"function"!=typeof t.beforeClose&&(t.beforeClose=function(){}),"function"!=typeof t.afterClose&&(t.afterClose=function(){}),"function"==typeof t.beforePlaceholder&&(t.beforePlaceholder=t.beforePlaceholder()),"string"!=typeof t.beforePlaceholder&&(t.beforePlaceholder=""),"function"==typeof t.afterPlaceholder&&(t.afterPlaceholder=t.afterPlaceholder()),"string"!=typeof t.afterPlaceholder&&(t.afterPlaceholder=""),t}(e);var n=function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=arguments[1],r=document.createElement("div");r.classList.add("basicLightbox"),null!=n.className&&(t=r.classList).add.apply(t,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n.className.split(" "))),r.innerHTML="\n\t\t"+n.beforePlaceholder+'\n\t\t<div class="basicLightbox__placeholder" role="dialog">\n\t\t\t'+e+"\n\t\t</div>\n\t\t"+n.afterPlaceholder+"\n\t";var i=r.querySelector(".basicLightbox__placeholder"),a=o(i,"IMG"),u=o(i,"VIDEO"),s=o(i,"IFRAME");return!0===a&&r.classList.add("basicLightbox--img"),!0===u&&r.classList.add("basicLightbox--video"),!0===s&&r.classList.add("basicLightbox--iframe"),r}(t,e),i=function(t){return!1!==e.beforeClose(a)&&(i=function(){if(e.afterClose(a),"function"==typeof t)return t(a)},(o=n).classList.remove("basicLightbox--visible"),setTimeout(function(){return!1===r(o)||o.parentElement.removeChild(o),i()},410),!0);var o,i};!0===e.closable&&(n.onclick=function(t){var e;t.target===this&&(i(),"function"==typeof(e=t).stopPropagation&&e.stopPropagation(),"function"==typeof e.preventDefault&&e.preventDefault())});var a={element:function(){return n},visible:function(){return r(n)},show:function(t){return!1!==e.beforeShow(a)&&(o=n,r=function(){if(e.afterShow(a),"function"==typeof t)return t(a)},document.body.appendChild(o),setTimeout(function(){requestAnimationFrame(function(){return o.classList.add("basicLightbox--visible"),r()})},10),!0);var o,r},close:i};return a}},{}]},{},[1])(1)}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).basicScroll=t()}(function(){return function t(e,n,o){function r(a,u){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return r(e[a][1][t]||t)},l,l.exports,t,e,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,e,n){"use strict";e.exports=function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},{}],2:[function(t,e,n){"use strict";e.exports=function(t){var e=1.70158;return t*t*((e+1)*t-e)}},{}],3:[function(t,e,n){"use strict";e.exports=function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1}},{}],4:[function(t,e,n){"use strict";var o=t("./bounce-out");e.exports=function(t){return t<.5?.5*(1-o(1-2*t)):.5*o(2*t-1)+.5}},{"./bounce-out":6}],5:[function(t,e,n){"use strict";var o=t("./bounce-out");e.exports=function(t){return 1-o(1-t)}},{"./bounce-out":6}],6:[function(t,e,n){"use strict";e.exports=function(t){var e=t*t;return t<4/11?7.5625*e:t<8/11?9.075*e-9.9*t+3.4:t<.9?4356/361*e-35442/1805*t+16061/1805:10.8*t*t-20.52*t+10.72}},{}],7:[function(t,e,n){"use strict";e.exports=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},{}],8:[function(t,e,n){"use strict";e.exports=function(t){return 1-Math.sqrt(1-t*t)}},{}],9:[function(t,e,n){"use strict";e.exports=function(t){return Math.sqrt(1- --t*t)}},{}],10:[function(t,e,n){"use strict";e.exports=function(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}},{}],11:[function(t,e,n){"use strict";e.exports=function(t){return t*t*t}},{}],12:[function(t,e,n){"use strict";e.exports=function(t){var e=t-1;return e*e*e+1}},{}],13:[function(t,e,n){"use strict";e.exports=function(t){return t<.5?.5*Math.sin(13*Math.PI/2*2*t)*Math.pow(2,10*(2*t-1)):.5*Math.sin(-13*Math.PI/2*(2*t-1+1))*Math.pow(2,-10*(2*t-1))+1}},{}],14:[function(t,e,n){"use strict";e.exports=function(t){return Math.sin(13*t*Math.PI/2)*Math.pow(2,10*(t-1))}},{}],15:[function(t,e,n){"use strict";e.exports=function(t){return Math.sin(-13*(t+1)*Math.PI/2)*Math.pow(2,-10*t)+1}},{}],16:[function(t,e,n){"use strict";e.exports=function(t){return 0===t||1===t?t:t<.5?.5*Math.pow(2,20*t-10):-.5*Math.pow(2,10-20*t)+1}},{}],17:[function(t,e,n){"use strict";e.exports=function(t){return 0===t?t:Math.pow(2,10*(t-1))}},{}],18:[function(t,e,n){"use strict";e.exports=function(t){return 1===t?t:1-Math.pow(2,-10*t)}},{}],19:[function(t,e,n){"use strict";e.exports={backInOut:t("./back-in-out"),backIn:t("./back-in"),backOut:t("./back-out"),bounceInOut:t("./bounce-in-out"),bounceIn:t("./bounce-in"),bounceOut:t("./bounce-out"),circInOut:t("./circ-in-out"),circIn:t("./circ-in"),circOut:t("./circ-out"),cubicInOut:t("./cubic-in-out"),cubicIn:t("./cubic-in"),cubicOut:t("./cubic-out"),elasticInOut:t("./elastic-in-out"),elasticIn:t("./elastic-in"),elasticOut:t("./elastic-out"),expoInOut:t("./expo-in-out"),expoIn:t("./expo-in"),expoOut:t("./expo-out"),linear:t("./linear"),quadInOut:t("./quad-in-out"),quadIn:t("./quad-in"),quadOut:t("./quad-out"),quartInOut:t("./quart-in-out"),quartIn:t("./quart-in"),quartOut:t("./quart-out"),quintInOut:t("./quint-in-out"),quintIn:t("./quint-in"),quintOut:t("./quint-out"),sineInOut:t("./sine-in-out"),sineIn:t("./sine-in"),sineOut:t("./sine-out")}},{"./back-in":2,"./back-in-out":1,"./back-out":3,"./bounce-in":5,"./bounce-in-out":4,"./bounce-out":6,"./circ-in":8,"./circ-in-out":7,"./circ-out":9,"./cubic-in":11,"./cubic-in-out":10,"./cubic-out":12,"./elastic-in":14,"./elastic-in-out":13,"./elastic-out":15,"./expo-in":17,"./expo-in-out":16,"./expo-out":18,"./linear":20,"./quad-in":22,"./quad-in-out":21,"./quad-out":23,"./quart-in":25,"./quart-in-out":24,"./quart-out":26,"./quint-in":28,"./quint-in-out":27,"./quint-out":29,"./sine-in":31,"./sine-in-out":30,"./sine-out":32}],20:[function(t,e,n){"use strict";e.exports=function(t){return t}},{}],21:[function(t,e,n){"use strict";e.exports=function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)}},{}],22:[function(t,e,n){"use strict";e.exports=function(t){return t*t}},{}],23:[function(t,e,n){"use strict";e.exports=function(t){return-t*(t-2)}},{}],24:[function(t,e,n){"use strict";e.exports=function(t){return t<.5?8*Math.pow(t,4):-8*Math.pow(t-1,4)+1}},{}],25:[function(t,e,n){"use strict";e.exports=function(t){return Math.pow(t,4)}},{}],26:[function(t,e,n){"use strict";e.exports=function(t){return Math.pow(t-1,3)*(1-t)+1}},{}],27:[function(t,e,n){"use strict";e.exports=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},{}],28:[function(t,e,n){"use strict";e.exports=function(t){return t*t*t*t*t}},{}],29:[function(t,e,n){"use strict";e.exports=function(t){return--t*t*t*t*t+1}},{}],30:[function(t,e,n){"use strict";e.exports=function(t){return-.5*(Math.cos(Math.PI*t)-1)}},{}],31:[function(t,e,n){"use strict";e.exports=function(t){var e=Math.cos(t*Math.PI*.5);return Math.abs(e)<1e-14?1:1-e}},{}],32:[function(t,e,n){"use strict";e.exports=function(t){return Math.sin(t*Math.PI/2)}},{}],33:[function(t,e,n){(function(t){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",u="[object Boolean]",s="[object Date]",c="[object Function]",l="[object GeneratorFunction]",f="[object Map]",d="[object Number]",h="[object Object]",p="[object Promise]",v="[object RegExp]",m="[object Set]",y="[object String]",g="[object Symbol]",w="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",E="[object Float32Array]",k="[object Float64Array]",x="[object Int8Array]",L="[object Int16Array]",C="[object Int32Array]",P="[object Uint8Array]",A="[object Uint8ClampedArray]",q="[object Uint16Array]",M="[object Uint32Array]",j=/\w*$/,T=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,R={};R[a]=R["[object Array]"]=R[b]=R[_]=R[u]=R[s]=R[E]=R[k]=R[x]=R[L]=R[C]=R[f]=R[d]=R[h]=R[v]=R[m]=R[y]=R[g]=R[P]=R[A]=R[q]=R[M]=!0,R["[object Error]"]=R[c]=R[w]=!1;var S="object"==(void 0===t?"undefined":o(t))&&t&&t.Object===Object&&t,I="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,N=S||I||Function("return this")(),H="object"==(void 0===n?"undefined":o(n))&&n&&!n.nodeType&&n,D=H&&"object"==(void 0===e?"undefined":o(e))&&e&&!e.nodeType&&e,$=D&&D.exports===H;function F(t,e){return t.set(e[0],e[1]),t}function W(t,e){return t.add(e),t}function V(t,e,n,o){var r=-1,i=t?t.length:0;for(o&&i&&(n=t[++r]);++r<i;)n=e(n,t[r],r,t);return n}function U(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t,o){n[++e]=[o,t]}),n}function B(t,e){return function(n){return t(e(n))}}function X(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var z,Y=Array.prototype,K=Function.prototype,J=Object.prototype,Q=N["__core-js_shared__"],Z=(z=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",tt=K.toString,et=J.hasOwnProperty,nt=J.toString,ot=RegExp("^"+tt.call(et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=$?N.Buffer:void 0,it=N.Symbol,at=N.Uint8Array,ut=B(Object.getPrototypeOf,Object),st=Object.create,ct=J.propertyIsEnumerable,lt=Y.splice,ft=Object.getOwnPropertySymbols,dt=rt?rt.isBuffer:void 0,ht=B(Object.keys,Object),pt=Nt(N,"DataView"),vt=Nt(N,"Map"),mt=Nt(N,"Promise"),yt=Nt(N,"Set"),gt=Nt(N,"WeakMap"),wt=Nt(Object,"create"),bt=Wt(pt),_t=Wt(vt),Et=Wt(mt),kt=Wt(yt),xt=Wt(gt),Lt=it?it.prototype:void 0,Ct=Lt?Lt.valueOf:void 0;function Pt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function At(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function qt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function Mt(t){this.__data__=new At(t)}function jt(t,e,n){var o=t[e];et.call(t,e)&&Vt(o,n)&&(void 0!==n||e in t)||(t[e]=n)}function Tt(t,e){for(var n=t.length;n--;)if(Vt(t[n][0],e))return n;return-1}function Ot(t,e,n,o,r,i,p){var w;if(o&&(w=i?o(t,r,i,p):o(t)),void 0!==w)return w;if(!zt(t))return t;var T,O,S,I,N,H,D=Ut(t);if(D){if(w=function(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&et.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!e)return function(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e}(t,w)}else{var $=Dt(t),B=$==c||$==l;if(Bt(t))return function(t,n){if(e)return t.slice();var o=new t.constructor(t.length);return t.copy(o),o}(t);if($==h||$==a||B&&!i){if(U(t))return i?t:{};if(w="function"!=typeof(N=B?{}:t).constructor||Ft(N)?{}:zt(H=ut(N))?st(H):{},!e)return I=T=t,O=(S=w)&&St(I,Yt(I),S),St(T,Ht(T),O)}else{if(!R[$])return i?t:{};w=function(t,e,n,o){var r,i,a,c,l,h,p,w,T,O=t.constructor;switch(e){case b:return Rt(t);case u:case s:return new O(+t);case _:return w=t,T=o?Rt(w.buffer):w.buffer,new w.constructor(T,w.byteOffset,w.byteLength);case E:case k:case x:case L:case C:case P:case A:case q:case M:return h=t,p=o?Rt(h.buffer):h.buffer,new h.constructor(p,h.byteOffset,h.length);case f:return l=t,V(o?n(G(l),!0):G(l),F,new l.constructor);case d:case y:return new O(t);case v:return(c=new(a=t).constructor(a.source,j.exec(a))).lastIndex=a.lastIndex,c;case m:return i=t,V(o?n(X(i),!0):X(i),W,new i.constructor);case g:return r=t,Ct?Object(Ct.call(r)):{}}}(t,$,Ot,e)}}p||(p=new Mt);var z,Y,K,J=p.get(t);if(J)return J;if(p.set(t,w),!D)var Q=n?(Y=Ht,K=Yt(z=t),Ut(z)?K:function(t,e){for(var n=-1,o=e.length,r=t.length;++n<o;)t[r+n]=e[n];return t}(K,Y(z))):Yt(t);return function(t,e){for(var n=-1,o=t?t.length:0;++n<o&&!1!==e(t[n],n););}(Q||t,function(r,i){Q&&(r=t[i=r]),jt(w,i,Ot(r,e,n,o,i,t,p))}),w}function Rt(t){var e=new t.constructor(t.byteLength);return new at(e).set(new at(t)),e}function St(t,e,n,o){n||(n={});for(var r=-1,i=e.length;++r<i;){var a=e[r],u=o?o(n[a],t[a],a,n,t):void 0;jt(n,a,void 0===u?t[a]:u)}return n}function It(t,e){var n,r,i=t.__data__;return("string"==(r=void 0===(n=e)?"undefined":o(n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Nt(t,e){var n,o=null==(n=t)?void 0:n[e];return function(t){return!(!zt(t)||(e=t,Z&&Z in e))&&(Xt(t)||U(t)?ot:T).test(Wt(t));var e}(o)?o:void 0}Pt.prototype.clear=function(){this.__data__=wt?wt(null):{}},Pt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Pt.prototype.get=function(t){var e=this.__data__;if(wt){var n=e[t];return n===r?void 0:n}return et.call(e,t)?e[t]:void 0},Pt.prototype.has=function(t){var e=this.__data__;return wt?void 0!==e[t]:et.call(e,t)},Pt.prototype.set=function(t,e){return this.__data__[t]=wt&&void 0===e?r:e,this},At.prototype.clear=function(){this.__data__=[]},At.prototype.delete=function(t){var e=this.__data__,n=Tt(e,t);return!(n<0||(n==e.length-1?e.pop():lt.call(e,n,1),0))},At.prototype.get=function(t){var e=this.__data__,n=Tt(e,t);return n<0?void 0:e[n][1]},At.prototype.has=function(t){return-1<Tt(this.__data__,t)},At.prototype.set=function(t,e){var n=this.__data__,o=Tt(n,t);return o<0?n.push([t,e]):n[o][1]=e,this},qt.prototype.clear=function(){this.__data__={hash:new Pt,map:new(vt||At),string:new Pt}},qt.prototype.delete=function(t){return It(this,t).delete(t)},qt.prototype.get=function(t){return It(this,t).get(t)},qt.prototype.has=function(t){return It(this,t).has(t)},qt.prototype.set=function(t,e){return It(this,t).set(t,e),this},Mt.prototype.clear=function(){this.__data__=new At},Mt.prototype.delete=function(t){return this.__data__.delete(t)},Mt.prototype.get=function(t){return this.__data__.get(t)},Mt.prototype.has=function(t){return this.__data__.has(t)},Mt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof At){var o=n.__data__;if(!vt||o.length<199)return o.push([t,e]),this;n=this.__data__=new qt(o)}return n.set(t,e),this};var Ht=ft?B(ft,Object):function(){return[]},Dt=function(t){return nt.call(t)};function $t(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||O.test(t))&&-1<t&&t%1==0&&t<e}function Ft(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||J)}function Wt(t){if(null!=t){try{return tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Vt(t,e){return t===e||t!=t&&e!=e}(pt&&Dt(new pt(new ArrayBuffer(1)))!=_||vt&&Dt(new vt)!=f||mt&&Dt(mt.resolve())!=p||yt&&Dt(new yt)!=m||gt&&Dt(new gt)!=w)&&(Dt=function(t){var e=nt.call(t),n=e==h?t.constructor:void 0,o=n?Wt(n):void 0;if(o)switch(o){case bt:return _;case _t:return f;case Et:return p;case kt:return m;case xt:return w}return e});var Ut=Array.isArray;function Gt(t){return null!=t&&"number"==typeof(e=t.length)&&-1<e&&e%1==0&&e<=i&&!Xt(t);var e}var Bt=dt||function(){return!1};function Xt(t){var e=zt(t)?nt.call(t):"";return e==c||e==l}function zt(t){var e=void 0===t?"undefined":o(t);return!!t&&("object"==e||"function"==e)}function Yt(t){return Gt(t)?function(t,e){var n,r,i,u=Ut(t)||(i=r=n=t)&&"object"==(void 0===i?"undefined":o(i))&&Gt(r)&&et.call(n,"callee")&&(!ct.call(n,"callee")||nt.call(n)==a)?function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}(t.length,String):[],s=u.length,c=!!s;for(var l in t)!e&&!et.call(t,l)||c&&("length"==l||$t(l,s))||u.push(l);return u}(t):function(t){if(!Ft(t))return ht(t);var e=[];for(var n in Object(t))et.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}e.exports=function(t){return Ot(t,!0,!0)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],34:[function(t,e,n){"use strict";e.exports=function(t,e){e||(e=[0,""]),t=String(t);var n=parseFloat(t,10);return e[0]=n,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},{}],35:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.create=void 0;var o=a(t("parse-unit")),r=a(t("lodash.clonedeep")),i=a(t("eases"));function a(t){return t&&t.__esModule?t:{default:t}}var u,s,c=[],l=function(){return(document.scrollingElement||document.documentElement).scrollTop},f=function(t){return!1===isNaN((0,o.default)(t)[0])},d=function(t){var e=(0,o.default)(t);return{value:e[0],unit:e[1]}},h=function(t){return null!==String(t).match(/^[a-z]+-[a-z]+$/)},p=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:l(),o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:window.innerHeight||window.outerHeight,r=e.getBoundingClientRect(),i=t.match(/^[a-z]+/)[0],a=t.match(/[a-z]+$/)[0],u=0;return"top"===a&&(u-=0),"middle"===a&&(u-=o/2),"bottom"===a&&(u-=o),"top"===i&&(u+=r.top+n),"middle"===i&&(u+=r.top+n+r.height/2),"bottom"===i&&(u+=r.top+n+r.height),u+"px"},v=function(t){var e,n,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:l(),r=t.getData(),i=r.to.value-r.from.value,a=(o-r.from.value)/(i/100),u=Math.min(Math.max(a,0),100),s=(e=r.direct,n={global:document.documentElement,elem:r.elem,direct:r.direct},!0===e?n.elem:e instanceof HTMLElement==1?n.direct:n.global),c=Object.keys(r.props).reduce(function(t,e){var n=r.props[e],o=n.from.unit||n.to.unit,i=n.from.value-n.to.value,a=n.timing(u/100),s=n.from.value-i*a,c=Math.round(1e4*s)/1e4;return t[e]=c+o,t},{}),f=a<0||100<a;return!0==(0<=a&&a<=100)&&r.inside(t,a,c),!0===f&&r.outside(t,a,c),{elem:s,props:c}},m=function(t,e){Object.keys(e).forEach(function(n){return o=t,r={key:n,value:e[n]},void o.style.setProperty(r.key,r.value);var o,r})};n.create=function(t){var e=null,n=!1,o={isActive:function(){return n},getData:function(){return e},calculate:function(){e=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(null==(t=(0,r.default)(t)).from)throw new Error("Missing property `from`");if(null==t.to)throw new Error("Missing property `to`");if(null==t.inside&&(t.inside=function(){}),null==t.outside&&(t.outside=function(){}),!0===t.direct&&null==t.elem)throw new Error("Property `elem` required when `direct` is true");if(!0!==t.direct&&t.direct instanceof HTMLElement==0&&(t.direct=!1),!1!==t.track&&(t.track=!0),"function"!=typeof t.inside)throw new Error("Property `inside` must be a function");if("function"!=typeof t.outside)throw new Error("Property `outside` must be a function");if(null==t.elem){if(!1===f(t.from))throw new Error("Property `from` must be a absolute value when no `elem` has been provided");if(!1===f(t.to))throw new Error("Property `to` must be a absolute value when no `elem` has been provided")}else!0===h(t.from)&&(t.from=p(t.from,t.elem)),!0===h(t.to)&&(t.to=p(t.to,t.elem));return t.from=d(t.from),t.to=d(t.to),null==t.props&&(t.props={}),Object.keys(t.props).forEach(function(e){var n=t.props[e];if(!1===f(n.from))throw new Error("Property `from` of prop must be a absolute value");if(!1===f(n.to))throw new Error("Property `from` of prop must be a absolute value");if(n.from=d(n.from),n.to=d(n.to),"string"==typeof n.timing&&null==i.default[n.timing])throw new Error("Unknown timing for property `timing` of prop");null==n.timing&&(n.timing=i.default.linear),"string"==typeof n.timing&&(n.timing=i.default[n.timing])}),t}(t)},update:function(){var t=v(o),e=t.elem,n=t.props;return m(e,n),n},start:function(){n=!0},stop:function(){n=!1},destroy:function(){c[a]=void 0}},a=c.push(o)-1;return o.calculate(),o},function t(e,n){var o=function(){requestAnimationFrame(function(){return t(e,n)})},r=c.filter(function(t){return null!=t&&t.isActive()});if(0===r.length)return o();var i=l();if(n===i)return o();n=i,r.map(function(t){return v(t,i)}).forEach(function(t){var e=t.elem,n=t.props;return m(e,n)}),o()}(),window.addEventListener("resize",(u=function(){c.filter(function(t){return null!=t&&t.getData().track}).forEach(function(t){t.calculate(),t.update()})},50,s=null,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];clearTimeout(s),s=setTimeout(function(){return u.apply(void 0,e)},50)}))},{eases:19,"lodash.clonedeep":33,"parse-unit":34}]},{},[35])(35)}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t.Vimeo=t.Vimeo||{},t.Vimeo.Player=e())}(this,function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var e="undefined"!=typeof global&&"[object global]"==={}.toString.call(global);function n(t,e){return 0===t.indexOf(e.toLowerCase())?t:"".concat(e.toLowerCase()).concat(t.substr(0,1).toUpperCase()).concat(t.substr(1))}function o(t){return/^(https?:)?\/\/((player|www).)?vimeo.com(?=$|\/)/.test(t)}function r(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.id,r=e.url,i=n||r;if(!i)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(t=i,!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t)return"https://vimeo.com/".concat(i);if(o(i))return i.replace("http:","https:");if(n)throw new TypeError("“".concat(n,"” is not a valid video id."));throw new TypeError("“".concat(i,"” is not a vimeo.com url."))}var i=void 0!==Array.prototype.indexOf,a="undefined"!=typeof window&&void 0!==window.postMessage;if(!(e||i&&a))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var u="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(t){if(!t.WeakMap){var e=Object.prototype.hasOwnProperty,n=function(t,e,n){Object.defineProperty?Object.defineProperty(t,e,{configurable:!0,writable:!0,value:n}):t[e]=n};t.WeakMap=function(){function t(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(n(this,"_id","_WeakMap_"+i()+"."+i()),0<arguments.length)throw new TypeError("WeakMap iterable is not supported")}function r(t,n){if(!o(t)||!e.call(t,"_id"))throw new TypeError(n+" method called on incompatible receiver "+typeof t)}function i(){return Math.random().toString().substring(2)}return n(t.prototype,"delete",function(t){if(r(this,"delete"),!o(t))return!1;var e=t[this._id];return!(!e||e[0]!==t||(delete t[this._id],0))}),n(t.prototype,"get",function(t){if(r(this,"get"),o(t)){var e=t[this._id];return e&&e[0]===t?e[1]:void 0}}),n(t.prototype,"has",function(t){if(r(this,"has"),!o(t))return!1;var e=t[this._id];return!(!e||e[0]!==t)}),n(t.prototype,"set",function(t,e){if(r(this,"set"),!o(t))throw new TypeError("Invalid value used as weak map key");var i=t[this._id];return i&&i[0]===t?i[1]=e:n(t,this._id,[t,e]),this}),n(t,"_polyfill",!0),t}()}function o(t){return Object(t)===t}}("undefined"!=typeof self?self:"undefined"!=typeof window?window:u);var s,c=(function(t){var e,n,o;o=function(){var t,e,n,o=Object.prototype.toString,r="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(t,e,n,o){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:!1!==o})}}catch(o){t=function(t,e,n){return t[e]=n,t}}function i(t,o){n.add(t,o),e||(e=r(n.drain))}function a(t){var e,n=typeof t;return null==t||"object"!=n&&"function"!=n||(e=t.then),"function"==typeof e&&e}function u(){for(var t=0;t<this.chain.length;t++)s(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function s(t,e,n){var o,r;try{!1===e?n.reject(t.msg):(o=!0===e?t.msg:e.call(void 0,t.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(r=a(o))?r.call(o,n.resolve,n.reject):n.resolve(o)}catch(t){n.reject(t)}}function c(t){var e=this;e.triggered||(e.triggered=!0,e.def&&(e=e.def),e.msg=t,e.state=2,0<e.chain.length&&i(u,e))}function l(t,e,n,o){for(var r=0;r<e.length;r++)!function(r){t.resolve(e[r]).then(function(t){n(r,t)},o)}(r)}function f(t){this.def=t,this.triggered=!1}function d(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function h(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var e=new d(this);this.then=function(t,n){var o={success:"function"!=typeof t||t,failure:"function"==typeof n&&n};return o.promise=new this.constructor(function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");o.resolve=t,o.reject=e}),e.chain.push(o),0!==e.state&&i(u,e),o.promise},this.catch=function(t){return this.then(void 0,t)};try{t.call(void 0,function(t){(function t(e){var n,o=this;if(!o.triggered){o.triggered=!0,o.def&&(o=o.def);try{(n=a(e))?i(function(){var r=new f(o);try{n.call(e,function(){t.apply(r,arguments)},function(){c.apply(r,arguments)})}catch(t){c.call(r,t)}}):(o.msg=e,o.state=1,0<o.chain.length&&i(u,o))}catch(t){c.call(new f(o),t)}}}).call(e,t)},function(t){c.call(e,t)})}catch(t){c.call(e,t)}}n=function(){var t,n,o;function r(t,e){this.fn=t,this.self=e,this.next=void 0}return{add:function(e,i){o=new r(e,i),n?n.next=o:t=o,n=o,o=void 0},drain:function(){var o=t;for(t=n=e=void 0;o;)o.fn.call(o.self),o=o.next}}}();var p=t({},"constructor",h,!1);return t(h.prototype=p,"__NPO__",0,!1),t(h,"resolve",function(t){return t&&"object"==typeof t&&1===t.__NPO__?t:new this(function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");e(t)})}),t(h,"reject",function(t){return new this(function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");n(t)})}),t(h,"all",function(t){var e=this;return"[object Array]"!=o.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e(function(n,o){if("function"!=typeof n||"function"!=typeof o)throw TypeError("Not a function");var r=t.length,i=Array(r),a=0;l(e,t,function(t,e){i[t]=e,++a===r&&n(i)},o)})}),t(h,"race",function(t){var e=this;return"[object Array]"!=o.call(t)?e.reject(TypeError("Not an array")):new e(function(n,o){if("function"!=typeof n||"function"!=typeof o)throw TypeError("Not a function");l(e,t,function(t,e){n(e)},o)})}),h},(n=u)[e="Promise"]=n[e]||o(),t.exports&&(t.exports=n[e])}(s={exports:{}}),s.exports),l=new WeakMap;function f(t,e,n){var o=l.get(t.element)||{};e in o||(o[e]=[]),o[e].push(n),l.set(t.element,o)}function d(t,e){return(l.get(t.element)||{})[e]||[]}function h(t,e,n){var o=l.get(t.element)||{};if(!o[e])return!0;if(!n)return o[e]=[],l.set(t.element,o),!0;var r=o[e].indexOf(n);return-1!==r&&o[e].splice(r,1),l.set(t.element,o),o[e]&&0===o[e].length}var p=["autopause","autoplay","background","byline","color","height","id","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","title","transparent","url","width"];function v(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return p.reduce(function(e,n){var o=t.getAttribute("data-vimeo-".concat(n));return(o||""===o)&&(e[n]=""===o?1:o),e},e)}function m(t,e){var n=t.html;if(!e)throw new TypeError("An element must be provided");if(null!==e.getAttribute("data-vimeo-initialized"))return e.querySelector("iframe");var o=document.createElement("div");return o.innerHTML=n,e.appendChild(o.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function y(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0;return new Promise(function(r,i){if(!o(t))throw new TypeError("“".concat(t,"” is not a vimeo.com url."));var a="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(t),"&domain=").concat(window.location.hostname);for(var u in e)e.hasOwnProperty(u)&&(a+="&".concat(u,"=").concat(encodeURIComponent(e[u])));var s="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;s.open("GET",a,!0),s.onload=function(){if(404!==s.status)if(403!==s.status)try{var e=JSON.parse(s.responseText);if(403===e.domain_status_code)return m(e,n),void i(new Error("“".concat(t,"” is not embeddable.")));r(e)}catch(e){i(e)}else i(new Error("“".concat(t,"” is not embeddable.")));else i(new Error("“".concat(t,"” was not found.")))},s.onerror=function(){var t=s.status?" (".concat(s.status,")"):"";i(new Error("There was an error fetching the embed code from Vimeo".concat(t,".")))},s.send()})}function g(t){return"string"==typeof t&&(t=JSON.parse(t)),t}function w(t,e,n){if(t.element.contentWindow&&t.element.contentWindow.postMessage){var o={method:e};void 0!==n&&(o.value=n);var r=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));8<=r&&r<10&&(o=JSON.stringify(o)),t.element.contentWindow.postMessage(o,t.origin)}}var b=new WeakMap,_=new WeakMap,E=function(){function e(t){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),window.jQuery&&t instanceof jQuery&&(1<t.length&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),t=t[0]),"undefined"!=typeof document&&"string"==typeof t&&(t=document.getElementById(t)),!(t instanceof window.HTMLElement))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==t.nodeName){var a=t.querySelector("iframe");a&&(t=a)}if("IFRAME"===t.nodeName&&!o(t.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(b.has(t))return b.get(t);this.element=t,this.origin="*";var u=new c(function(e,a){var u=function(t){if(o(t.origin)&&n.element.contentWindow===t.source){"*"===n.origin&&(n.origin=t.origin);var r=g(t.data),i="event"in r&&"ready"===r.event,a="method"in r&&"ping"===r.method;if(i||a)return n.element.setAttribute("data-ready","true"),void e();!function(t,e){var n,o=[];if((e=g(e)).event)"error"===e.event&&d(t,e.data.method).forEach(function(n){var o=new Error(e.data.message);o.name=e.data.name,n.reject(o),h(t,e.data.method,n)}),o=d(t,"event:".concat(e.event)),n=e.data;else if(e.method){var r=function(t,e){var n=d(t,e);if(n.length<1)return!1;var o=n.shift();return h(t,e,o),o}(t,e.method);r&&(o.push(r),n=e.value)}o.forEach(function(e){try{if("function"==typeof e)return void e.call(t,n);e.resolve(n)}catch(e){}})}(n,r)}};if(window.addEventListener?window.addEventListener("message",u,!1):window.attachEvent&&window.attachEvent("onmessage",u),"IFRAME"!==n.element.nodeName){var s=v(t,i);y(r(s),s,t).then(function(e){var o,r,i,a=m(e,t);return n.element=a,n._originalElement=t,o=t,r=a,i=l.get(o),l.set(r,i),l.delete(o),b.set(n.element,n),e}).catch(function(t){return a(t)})}});return _.set(this,u),b.set(this.element,this),"IFRAME"===this.element.nodeName&&w(this,"ping"),this}var i,a;return i=e,(a=[{key:"callMethod",value:function(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new c(function(o,r){return e.ready().then(function(){f(e,t,{resolve:o,reject:r}),w(e,t,n)}).catch(function(t){r(t)})})}},{key:"get",value:function(t){var e=this;return new c(function(o,r){return t=n(t,"get"),e.ready().then(function(){f(e,t,{resolve:o,reject:r}),w(e,t)})})}},{key:"set",value:function(t,e){var o=this;return c.resolve(e).then(function(e){if(t=n(t,"set"),null==e)throw new TypeError("There must be a value to set.");return o.ready().then(function(){return new c(function(n,r){f(o,t,{resolve:n,reject:r}),w(o,t,e)})})})}},{key:"on",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(!e)throw new TypeError("You must pass a callback function.");if("function"!=typeof e)throw new TypeError("The callback must be a function.");0===d(this,"event:".concat(t)).length&&this.callMethod("addEventListener",t).catch(function(){}),f(this,"event:".concat(t),e)}},{key:"off",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(e&&"function"!=typeof e)throw new TypeError("The callback must be a function.");h(this,"event:".concat(t),e)&&this.callMethod("removeEventListener",t).catch(function(t){})}},{key:"loadVideo",value:function(t){return this.callMethod("loadVideo",t)}},{key:"ready",value:function(){var t=_.get(this)||new c(function(t,e){e(new Error("Unknown player. Probably unloaded."))});return c.resolve(t)}},{key:"addCuePoint",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:t,data:e})}},{key:"removeCuePoint",value:function(t){return this.callMethod("removeCuePoint",t)}},{key:"enableTextTrack",value:function(t,e){if(!t)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:t,kind:e})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var t=this;return new c(function(e){_.delete(t),b.delete(t.element),t._originalElement&&(b.delete(t._originalElement),t._originalElement.removeAttribute("data-vimeo-initialized")),t.element&&"IFRAME"===t.element.nodeName&&t.element.remove(),e()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(t){return this.set("autopause",t)}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(t){return this.set("color",t)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(t){return this.set("currentTime",t)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(t){return this.set("loop",t)}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(t){return this.set("playbackRate",t)}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(t){return this.set("volume",t)}}])&&t(i.prototype,a),e}();return e||!window.Vimeo||window.Vimeo.Player||(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,e=[].slice.call(t.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(t){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(t))};e.forEach(function(t){try{if(null!==t.getAttribute("data-vimeo-defer"))return;var e=v(t);y(r(e),e,t).then(function(e){return m(e,t)}).catch(n)}catch(e){n(e)}})}(),function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,e=function(e){if(o(e.origin)&&e.data&&"spacechange"===e.data.event)for(var n=t.querySelectorAll("iframe"),r=0;r<n.length;r++)if(n[r].contentWindow===e.source){n[r].parentElement.style.paddingBottom="".concat(e.data.data[0].bottom,"px");break}};window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent&&window.attachEvent("onmessage",e)}()),E}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Navigo=e()}(this,function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function e(){return!("undefined"==typeof window||!window.history||!window.history.pushState)}function n(t,n,o){this.root=null,this._routes=[],this._useHash=n,this._hash=void 0===o?"#":o,this._paused=!1,this._destroyed=!1,this._lastRouteResolved=null,this._notFoundHandler=null,this._defaultHandler=null,this._usePushState=!n&&e(),this._onLocationChange=this._onLocationChange.bind(this),this._genericHooks=null,this._historyAPIUpdateMethod="pushState",t?this.root=n?t.replace(/\/$/,"/"+this._hash):t.replace(/\/$/,""):n&&(this.root=this._cLoc().split(this._hash)[0].replace(/\/$/,"/"+this._hash)),this._listen(),this.updatePageLinks()}function o(t){return t instanceof RegExp?t:t.replace(/\/+$/,"").replace(/^\/+/,"^/")}function r(t){return t.replace(/\/$/,"").split("/").length}function i(t,e){return r(e)-r(t)}function a(t,e){return function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map(function(e){var r=function(t){var e=[];return{regexp:t instanceof RegExp?t:new RegExp(t.replace(n.PARAMETER_REGEXP,function(t,o,r){return e.push(r),n.REPLACE_VARIABLE_REGEXP}).replace(n.WILDCARD_REGEXP,n.REPLACE_WILDCARD)+n.FOLLOWED_BY_SLASH_REGEXP,n.MATCH_REGEXP_FLAGS),paramNames:e}}(o(e.route)),i=r.regexp,a=r.paramNames,u=t.replace(/^\/+/,"/").match(i),s=function(t,e){return 0===e.length?null:t?t.slice(1,t.length).reduce(function(t,n,o){return null===t&&(t={}),t[e[o]]=decodeURIComponent(n),t},null):null}(u,a);return!!u&&{match:u,route:e,params:s}}).filter(function(t){return t})}(t,e)[0]||!1}function u(t,e){var n=e.map(function(e){return""===e.route||"*"===e.route?t:t.split(new RegExp(e.route+"($|/)"))[0]}),r=o(t);return n.length>1?n.reduce(function(t,e){return t.length>e.length&&(t=e),t},n[0]):1===n.length?n[0]:r}function s(t,n,o){var r,i=function(t){return t.split(/\?(.*)?$/)[0]};return void 0===o&&(o="#"),e()&&!n?i(t).split(o)[0]:(r=t.split(o)).length>1?i(r[1]):i(r[0])}function c(e,n,o){if(n&&"object"===(void 0===n?"undefined":t(n))){if(n.before)return void n.before(function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(e(),n.after&&n.after(o))},o);if(n.after)return e(),void(n.after&&n.after(o))}e()}return n.prototype={helpers:{match:a,root:u,clean:o,getOnlyURL:s},navigate:function(t,e){var n;return t=t||"",this._usePushState?(n=(n=(e?"":this._getRoot()+"/")+t.replace(/^\/+/,"/")).replace(/([^:])(\/{2,})/g,"$1/"),history[this._historyAPIUpdateMethod]({},"",n),this.resolve()):"undefined"!=typeof window&&(t=t.replace(new RegExp("^"+this._hash),""),window.location.href=window.location.href.replace(/#$/,"").replace(new RegExp(this._hash+".*$"),"")+this._hash+t),this},on:function(){for(var e=this,n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];if("function"==typeof o[0])this._defaultHandler={handler:o[0],hooks:o[1]};else if(o.length>=2)if("/"===o[0]){var a=o[1];"object"===t(o[1])&&(a=o[1].uses),this._defaultHandler={handler:a,hooks:o[2]}}else this._add(o[0],o[1],o[2]);else"object"===t(o[0])&&Object.keys(o[0]).sort(i).forEach(function(t){e.on(t,o[0][t])});return this},off:function(t){return null!==this._defaultHandler&&t===this._defaultHandler.handler?this._defaultHandler=null:null!==this._notFoundHandler&&t===this._notFoundHandler.handler&&(this._notFoundHandler=null),this._routes=this._routes.reduce(function(e,n){return n.handler!==t&&e.push(n),e},[]),this},notFound:function(t,e){return this._notFoundHandler={handler:t,hooks:e},this},resolve:function(t){var n,o,r=this,i=(t||this._cLoc()).replace(this._getRoot(),"");this._useHash&&(i=i.replace(new RegExp("^/"+this._hash),"/"));var u=function(t){return t.split(/\?(.*)?$/).slice(1).join("")}(t||this._cLoc()),l=s(i,this._useHash,this._hash);return!this._paused&&(this._lastRouteResolved&&l===this._lastRouteResolved.url&&u===this._lastRouteResolved.query?(this._lastRouteResolved.hooks&&this._lastRouteResolved.hooks.already&&this._lastRouteResolved.hooks.already(this._lastRouteResolved.params),!1):(o=a(l,this._routes))?(this._callLeave(),this._lastRouteResolved={url:l,query:u,hooks:o.route.hooks,params:o.params,name:o.route.name},n=o.route.handler,c(function(){c(function(){o.route.route instanceof RegExp?n.apply(void 0,o.match.slice(1,o.match.length)):n(o.params,u)},o.route.hooks,o.params,r._genericHooks)},this._genericHooks,o.params),o):this._defaultHandler&&(""===l||"/"===l||l===this._hash||function(t,n,o){if(e()&&!n)return!1;if(!t.match(o))return!1;var r=t.split(o);return r.length<2||""===r[1]}(l,this._useHash,this._hash))?(c(function(){c(function(){r._callLeave(),r._lastRouteResolved={url:l,query:u,hooks:r._defaultHandler.hooks},r._defaultHandler.handler(u)},r._defaultHandler.hooks)},this._genericHooks),!0):(this._notFoundHandler&&c(function(){c(function(){r._callLeave(),r._lastRouteResolved={url:l,query:u,hooks:r._notFoundHandler.hooks},r._notFoundHandler.handler(u)},r._notFoundHandler.hooks)},this._genericHooks),!1))},destroy:function(){this._routes=[],this._destroyed=!0,this._lastRouteResolved=null,this._genericHooks=null,clearTimeout(this._listeningInterval),"undefined"!=typeof window&&(window.removeEventListener("popstate",this._onLocationChange),window.removeEventListener("hashchange",this._onLocationChange))},updatePageLinks:function(){var t=this;"undefined"!=typeof document&&this._findLinks().forEach(function(e){e.hasListenerAttached||(e.addEventListener("click",function(n){if((n.ctrlKey||n.metaKey)&&"a"==n.target.tagName.toLowerCase())return!1;var o=t.getLinkPath(e);t._destroyed||(n.preventDefault(),t.navigate(o.replace(/\/+$/,"").replace(/^\/+/,"/")))}),e.hasListenerAttached=!0)})},generate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._routes.reduce(function(n,o){var r;if(o.name===t)for(r in n=o.route,e)n=n.toString().replace(":"+r,e[r]);return n},"");return this._useHash?this._hash+n:n},link:function(t){return this._getRoot()+t},pause:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._paused=t,this._historyAPIUpdateMethod=t?"replaceState":"pushState"},resume:function(){this.pause(!1)},historyAPIUpdateMethod:function(t){return void 0===t?this._historyAPIUpdateMethod:(this._historyAPIUpdateMethod=t,t)},disableIfAPINotAvailable:function(){e()||this.destroy()},lastRouteResolved:function(){return this._lastRouteResolved},getLinkPath:function(t){return t.getAttribute("href")},hooks:function(t){this._genericHooks=t},_add:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"string"==typeof e&&(e=encodeURI(e)),this._routes.push("object"===(void 0===n?"undefined":t(n))?{route:e,handler:n.uses,name:n.as,hooks:o||n.hooks}:{route:e,handler:n,hooks:o}),this._add},_getRoot:function(){return null!==this.root?this.root:(this.root=u(this._cLoc().split("?")[0],this._routes),this.root)},_listen:function(){var t=this;if(this._usePushState)window.addEventListener("popstate",this._onLocationChange);else if("undefined"!=typeof window&&"onhashchange"in window)window.addEventListener("hashchange",this._onLocationChange);else{var e=this._cLoc(),n=void 0,o=void 0;(o=function(){n=t._cLoc(),e!==n&&(e=n,t.resolve()),t._listeningInterval=setTimeout(o,200)})()}},_cLoc:function(){return"undefined"!=typeof window?void 0!==window.__NAVIGO_WINDOW_LOCATION_MOCK__?window.__NAVIGO_WINDOW_LOCATION_MOCK__:o(window.location.href):""},_findLinks:function(){return[].slice.call(document.querySelectorAll("[data-navigo]"))},_onLocationChange:function(){this.resolve()},_callLeave:function(){var t=this._lastRouteResolved;t&&t.hooks&&t.hooks.leave&&t.hooks.leave(t.params)}},n.PARAMETER_REGEXP=/([:*])(\w+)/g,n.WILDCARD_REGEXP=/\*/g,n.REPLACE_VARIABLE_REGEXP="([^/]+)",n.REPLACE_WILDCARD="(?:.*)",n.FOLLOWED_BY_SLASH_REGEXP="(?:/$|$)",n.MATCH_REGEXP_FLAGS="",n}),function t(e,n,o){function r(a,u){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n||t)},c,c.exports,t,e,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,e,n){"use strict";var o=t("./utils").support,r=t("./utils").dispatchClick;"function"==typeof document.addEventListener&&document.addEventListener("DOMContentLoaded",function(){if(o){var t,e=document.createElement("div"),n=document.body,i=e.style,a=!1,u=!1,s={x:0,y:0};i.cssText=["-webkit-transform: translate3d(0,0,0);","transform: translate3d(0,0,0);","position: fixed;","top: 0;","right: 0;","left: 0;","bottom: 0;","opacity: 0;","z-index: 2147483647;","pointer-events: none"].join(""),n.appendChild(e),window.addEventListener("scroll",function(){a||(i.pointerEvents="auto",a=!0),clearTimeout(t),t=setTimeout(function(){i.pointerEvents="none",a=!1,u&&(r(s),u=!1)},500)},!1),document.addEventListener("click",function(t){t.target!==e||t.synthetic||(s.x=t.clientX,s.y=t.clientY,u=!0)},!1)}},!1)},{"./utils":2}],2:[function(t,e,n){"use strict";var o,r=((o=document.createElement("x")).style.cssText="pointer-events:auto","auto"===o.style.pointerEvents);n.support=r,n.dispatchClick=function(t){var e=document.createEvent("MouseEvent"),n=document.elementFromPoint(t.x,t.y);e.initMouseEvent("click",!0,!0,window,null,t.x,t.y,0,0,!1,!1,!1,!1,0,null),e.synthetic=!0,n.dispatchEvent(e)}},{}]},{},[1]);var supportsPassive=!1;try{var opts=Object.defineProperty({},"passive",{get:function(){supportsPassive=!0}});window.addEventListener("test",null,opts)}catch(t){}function children(t,e){var n=t.querySelectorAll(e),o=[];if(n)for(i in n){var r=n[i];r.parentNode===t&&o.push(r)}return o}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(this))return null;do{if(e.matches(t))return e;e=e.parentElement}while(null!==e);return null}),Element.prototype.fireCustomEvent||(Element.prototype.fireCustomEvent=function(t,e){var n;void 0!==e&&e||(e={}),e.target=this;var o={detail:e};try{n=new CustomEvent(t,o)}catch(o){(n=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,e)}this.dispatchEvent(n)}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(let n=0;n<this.length;n++)t.call(e,this[n],n,this)}),Element.prototype.toggleClass||(Element.prototype.toggleClass=function(t){if("array"!==(typeof t).toLowerCase()&&"string"!==(typeof t).toLowerCase())throw new Error("Argument should be array of classes or a string of space/comma delimited classes.");return"string"==typeof t&&(t=t.replace(/[\s]+,[\s]*|,[\s]*|[\s]+/g,",").split(",")),t.forEach(t=>{this.classList.toggle(t)}),this}),Element.prototype.addClass||(Element.prototype.addClass=function(t){if("array"!==(typeof t).toLowerCase()&&"string"!==(typeof t).toLowerCase())throw new Error("Argument should be array of classes or a string of space/comma delimited classes.");return"string"==typeof t&&(t=t.replace(/[\s]+,[\s]*|,[\s]*|[\s]+/g,",").split(",")),t.forEach(t=>{this.classList.add(t)}),this}),Element.prototype.removeClass||(Element.prototype.removeClass=function(t){if("array"!==(typeof t).toLowerCase()&&"string"!==(typeof t).toLowerCase())throw new Error("Argument should be array of classes or a string of space/comma delimited classes.");return"string"==typeof t&&(t=t.replace(/[\s]+,[\s]*|,[\s]*|[\s]+/g,",").split(",")),t.forEach(t=>{this.classList.remove(t)}),this}),Element.prototype.hasClass||(Element.prototype.hasClass=function(t){if("string"!==(typeof t).toLowerCase())throw new Error("Argument should be a string classname.");let e=t.replace(/[\s]+,[\s]*|,[\s]*|[\s]+/g,",").split(",");if(1==e.length)return this.classList.contains(t);for(let t=0;t<e.length;t++)if(this.classList.contains(e[t]))return!0;return!1});var qs=document.querySelector.bind(document),qsa=document.querySelectorAll.bind(document);function extend(t,e){for(var n in e){var o=e[n];o&&"[object Object]"===Object.prototype.toString.call(o)?(t[n]=t[n]||{},extend(t[n],o)):t[n]=o}return t}function isDoNotTrackEnabled(){return!!(window.doNotTrack||navigator.doNotTrack||navigator.msDoNotTrack)&&("1"==window.doNotTrack||"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack)}Element.prototype.qs||(Element.prototype.qs=function(){return this.querySelector.apply(this,arguments)},Element.prototype.qsa=function(){return this.querySelectorAll.apply(this,arguments)}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(t){t.hasOwnProperty("after")||Object.defineProperty(t,"after",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=Array.prototype.slice.call(arguments),e=document.createDocumentFragment();t.forEach(function(t){var n=t instanceof Node;e.appendChild(n?t:document.createTextNode(String(t)))}),this.parentNode.insertBefore(e,this.nextSibling)}})});var STARFIELD=function(t){t.init=function(){body=qs("body");const o=[31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199];let r=o[Math.floor(Math.random()*o.length)],i=qsa("#starfield .group div"),a=r;for(var u=0;u<i.length;u++)i[a].addClass(`s${u%20}`),a+=r,a%=i.length;t.animate(e),t.animate(n),APP.starfield.style.setProperty("--seq1-animation-duration",`${e.delay}ms`),APP.starfield.style.setProperty("--seq2-animation-duration",`${n.delay}ms`),[e,n].forEach(e=>{e.seq.forEach(n=>{APP.starfield.qs(`.s${n}`).addEventListener("animationiteration",function(n){e.flag&&t.animate(e),e.flag=!e.flag})})})};var e={seq:[0,1,2],delay:1487,i:0,flag:!1},n={seq:[3,4],delay:2034,i:0,flag:!1};return t.animate=function(t){APP.starfield.removeClass(`s${t.seq[t.i]}`),t.i=(t.i+1)%t.seq.length,APP.starfield.addClass(`s${t.seq[t.i]}`)},t}(STARFIELD||{}),APP=function(t){try{if(!CSS||!CSS.supports)return document.querySelector("body").classList.add("no-atsupports-support"),{}}catch(t){return document.querySelector("body").classList.add("no-atsupports-support"),{}}var e=null;t.starfield=null,document.addEventListener("DOMContentLoaded",function(){e=qs("body"),qs("html"),t.starfield=qs("#starfield"),qsa(".panel.art"),r(),e.addClass(isDoNotTrackEnabled()?"trackingDisabled":"trackingNotDisabled"),o(),"function"==typeof e.scrollIntoView&&qsa(".bookmark").forEach(function(t){qs(`a[href='#${t.id}']`).addEventListener("click",function(t){let e=t.currentTarget.getAttribute("href").replace(/-bookmark/g,"");qs(e).scrollIntoView({behavior:"smooth"}),t.preventDefault()})}),STARFIELD.init(),t.initRoutes()});var n=function(t){if(null==t)return null;let e=t.getAttribute("data-from");e=parseFloat(null==e?0:e);let n=t.getAttribute("data-to");n=parseFloat(null==n?1:n);let o={elem:t,from:"middle-bottom",to:"middle-top",direct:!0,props:{"--v":{from:e,to:n,timing:function(t){return Math.round(10*t)/10}}},inside:(e,n,o)=>{t.setAttribute("v",20*Math.round(n/20))},outside:(e,n,o)=>{t.setAttribute("v",n<0?"0":"100")}};return"starfield"==t.id.toLowerCase()&&(o.from="top-bottom",o.to="bottom-top",o.inside=((e,n,o)=>{t.addClass("intersected")}),o.outside=((e,n,o)=>{t.removeClass("intersected")}),delete o.props),basicScroll.create(o).start()},o=function(){introParallaxElem=n(qs("#starfield")),earthParallaxElem=n(qs("#earth .panel.art.parallax")),lakmiParallaxElem=n(qs("#lakmi .panel.art.parallax")),belduraParallaxElem=n(qs("#beldura .panel.art.parallax")),kloluoParallaxElem=n(qs("#kloluo .panel.art.parallax")),thelioParallaxElem=n(qs("#thelio .panel.art.parallax"))},r=function(){var t=document.createElement("canvas"),n=t.getContext("webgl")||t.getContext("experimental-webgl");n&&n instanceof WebGLRenderingContext?e.addClass("webgl"):e.addClass("no-webgl")};return t}((APP=function(t){var e=new Navigo(null,!0),n=null;return t.initRoutes=function(){e.on("/",function(){n&&n.close()}),e.on("/log/:planet",function(t){let o=qs(`#${t.planet} .log`);o&&(n=basicLightbox.create(o.outerHTML,{beforeClose:function(){qs("html").removeClass("no-scroll")},afterClose:function(){e.navigate("/")},beforeShow:function(e){let n=e.element().qs(".log"),o=document.createElement("button");o.innerText="Close",o.addClass("close,log"),n.addClass(t.planet),n.after(o),o.addEventListener("click",function(){e.close()})},afterShow:function(){qs("html").addClass("no-scroll")}})).show()}),e.on("/video/:vid",function(t){let o=qs(`#video_${t.vid}`);o&&(n=basicLightbox.create(o.outerHTML,{beforeClose:function(){qs("html").removeClass("no-scroll")},afterClose:function(t){(void 0===t.intentionallyClosed||t.intentionallyClosed)&&e.navigate("/")},afterShow:function(n){let o=n.element().qs(".videoContainer");o.removeClass("error"),o.innerHTML="";let r=o.getAttribute("href"),i=document.createElement("button");i.innerText="Close",i.addClass("close,video"),o.after(i),i.addEventListener("click",function(){n.intentionallyClosed=!0,n.close()}),qs("html").addClass("no-scroll");let a={url:r,loop:!1},u=new Vimeo.Player(o,a);["lakmi","beldura","kloluo","thelio"].slice(0,lastStage).forEach(function(o){let r=qs(`.${o}1`).id.match(/video_([\d]*)/)[1];t.vid==r&&u.on("ended",function(){n.intentionallyClosed=!1,n.close(),e.navigate(`/webgl/${o}`)})}),(t=>new Promise((e,n)=>setTimeout(e,t)))(5e3).then(function(t){if(null==o.qs("iframe")){o.addClass("error");let t=qs("#video-error").cloneNode(!0);t.id="",t.addClass("errorDiv"),o.append(t),new MutationObserver(e=>{for(var n of e)if("childList"==n.type)for(var o of n.addedNodes)"iframe"==o.tagName.toLowerCase()&&t.remove()}).observe(o,{childList:!0,attributes:!1})}})}})).show()}),e.on("/webgl/:planet",function(t){(n=basicLightbox.create('<div class="webgl-container"></div>',{className:"webgl",beforeClose:function(){qs("html").removeClass("no-scroll")},afterClose:function(){},afterShow:function(o){let r=o.element().qs(".webgl-container");r.innerHTML=`<iframe id="gameContainer" title="Interactive Experience" src="${t.planet}.html?v=${cacheBusterHash}"></iframe>`,iframe=r.qs("iframe");let i=qs(`.${t.planet}2`).id.match(/video_([\d]*)/)[1];iframe.contentWindow.addEventListener("hashchange",function(t){t.target.location.hash.substr(1);iframe.remove(),n.close(),e.navigate(`/video/${i}`)});let a=document.createElement("button");a.innerText="Close",a.addClass("close,webgl"),iframe.after(a),a.addEventListener("click",function(){o.close(),e.navigate("/")}),qs("html").addClass("no-scroll")}})).show()}),e.resolve()},t}(APP||{}))||{});
//# sourceMappingURL=script-min.js.map
